\documentclass{sydeStyle}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{subfig}
\usepackage{listings}
\DeclareGraphicsExtensions{.png}
\graphicspath{{./files/}}

\coursecode{352}
\prof{Alexander Wong}
\title{Lab 1 Report\\
Fundamentals of Image Processing}
\date{\today}

\author{Andrew Cameron, 20252410}
\authortwo{Simon Ruggier, 20165414}

\begin{document}

\maketitle

\section*{Introduction}
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quis cursus
sapien. Integer id ultrices augue. Donec quis arcu at odio dignissim
tincidunt a ac nibh. Sed condimentum tortor in odio auctor luctus.
Phasellus vitae aliquet nibh. Pellentesque felis lorem, rutrum euismod
cursus at, mattis imperdiet ipsum. Etiam eget auctor mauris. Vestibulum
mollis libero eget leo pretium nec eleifend tortor mattis. Aliquam aliquet,
tellus et hendrerit porttitor, magna ante congue justo, vulputate mollis
quam purus vitae felis. In hac habitasse platea dictumst.

\section*{Digital Zooming}
% TODO: make this an ordered list
% 1.
%All of the up-sampled images were clearly inferior to the original, although
%some were better than others.  Nearest neighbour is clearly the worst;
%the resulting image is very blocky and appears identical to the down-sampled
%image.  Bilinear interpolation is much better, although quite blurry compared
%to the original, whereas bicubic interpolation, although still blurry compared
%with the original, has clearer features than bilinear.

% 2. How do the different methods compare to each other in terms of PSNR as well as visual quality?  Why?
\begin{table}
	\centering
	\begin{tabular}{| l | r | r |}
		\hline
		\multicolumn{3}{|c|}{PSNR (dB)} \\ \hline
		& Lena & Cameraman \\ \hline
		Nearest Neighbour & 32.752 & 31.314 \\ \hline
		Bilinear Interpolation & 32.746 & 30.978 \\ \hline
		Bicubic Interpolation & 33.156 & 31.271 \\
		\hline
	\end{tabular}
	\caption{Peak signal-to-noise for Lena and Cameraman}
	\label{tab:psnr}
\end{table}
%%%% simple table - PSNR (dB)
%%%% column 1: Lena
% Nearest Neighbour: 32.752
% Bilinear Interpolation: 32.746
% Bicubic Interpolation: 33.156
%%%% column 2: cameraman
% Nearest Neighbour: 31.314
% Bilinear Interpolation: 30.978
% Bicubic Interpolation: 31.271
2. None of the up-sampled images are as good as the original images.  Nearest
neighbour upsampling produces blocky images, whereas bilinear and
bicubic interpolation both produce slightly better images, although both are
blurred.  Bicubic interpolation appears slightly less blurred than bilinear.
The PSNR values, as shown in Table \ref{tab:psnr}, are quite close for all
three methods; no algorithm comes out a clear winner, because all three
behave similarly: they upsample by using information from nearby pixels.

% 3. What parts of the image seems to work well using these digital zooming methods? What parts of the image doesnâ€™t? Why?

% 4. Compare the zooming results between Lena and Cameraman. Which image results in higher PSNR?  Which image looks better when restored to the original resolution using digital zooming methods?  Why?

% 5. What does the PSNR tell you about each of the methods? Does it reflect what is observed visually?

\section*{Discrete Convolution for Image Processing}
 \begin{figure}
	\begin{center}
		\subfloat[Lena]{\label{fig:lena_orig}\includegraphics[width=0.2\textwidth]{lena_orig.png}}
		\subfloat[Lena$*h1$]{\label{fig:lena_conv_h1}\includegraphics[height=0.2\textwidth]{lena_conv_h1.png}}
		\subfloat[Lena$*h2$]{\label{fig:lena_conv_h2}\includegraphics[width=0.2\textwidth]{lena_conv_h2.png}}
		\subfloat[Lena$*h3$]{\label{fig:lena_conv_h3}\includegraphics[height=0.2\textwidth]{lena_conv_h3.png}}
		\subfloat[absolute value of Lena$*h3$]{\label{fig:lena_conv_h3_abs}\includegraphics[height=0.2\textwidth]{lena_conv_h3_abs.png}}
	\end{center}
	\caption{Lena, convoluted with various impulse functions}
	\label{SummingAmp2}
\end{figure}
In order to experiment with convolution in the context of image processing,
three impulse functions, $h1$, $h2$, and $h3$ were convolved with the standard
Lena test image:
\begin{align*}
	h1 & = \begin{bmatrix}\frac{1}{6} & \frac{1}{6} & \frac{1}{6} & \frac{1}{6}
		& \frac{1}{6} & \frac{1}{6}\end{bmatrix} \\
	h2 & = \begin{bmatrix}\frac{1}{6} & \frac{1}{6} & \frac{1}{6} & \frac{1}{6}
		& \frac{1}{6} & \frac{1}{6}\end{bmatrix}^T \\
	h3 & = \begin{bmatrix}-1 & 1\end{bmatrix}
\end{align*}
Because $h1$ is a horizontal vector, performing a 2D convolution with it should
incorporate information into each pixel from horizontal neighbours of that pixel,
resulting in a horizontal blur effect; figure \ref{fig:lena_conv_h1} confirms this.
The second impulse function, shown convoluted with Lena in figure
\ref{fig:lena_conv_h2}, is a transposed version of the first.  As such, it would
be expected that it would result in a vertical blurring effect, which it does.
The third impulse function results in a much different effect.
It is also 1 dimensional, acting in the horizontal direction, but it simply
subtracts the right neighbouring pixel from each pixel.
Thus, the brightness of each pixel is proportional to the difference between it
and its right neighbour.
This results in a crude edge magnifying transformation, which can be seen in
figure \ref{fig:lena_conv_h3}.
However, observe that if the input image range is $[0,1]$, the output image will
be $[-1,1]$.
As such, some of the output is negative, and by default, this gets saturated to
black when the output is displayed.
If each pixel in the output image is converted to its absolute value, the result
in figure \ref{fig:lena_conv_h3_abs} is obtained.
Given these results, it is clear that convolution can be a convenient way to
express operations that linearly transform pixels using information from their
neighbours.
Such operations are widely applicable to image processing.

\section*{Fourier Analysis}
% TODO: make this an ordered list
% 1. What can you say about the general distribution of energy in the Fourier spectra? Why?

% 2. What characteristics about the test image can you infer from the Fourier spectra?

% 3. How did the Fourier spectra change from the original image (before rotation)?

% 4. What conclusions and observations can be made about image characteristics based on the Fourier spectra of both original image and the rotated image?

% 5. Describe how the reconstructed image from the amplitude component look like? What image characteristics does the amplitude component capture?

% 6. Describe how the reconstructed image from the phase component look like? What image characteristics does the phase component capture?


\section*{Point Operations for Image Enhancement}
In imperdiet ultrices congue. Nam ac mauris nec lectus vestibulum faucibus
porta dictum metus. Ut sem purus, tincidunt in scelerisque at, blandit non
nunc. Donec quis felis quam. Nulla facilisis gravida mattis. Phasellus non
augue lectus, eget venenatis justo. Aenean in nisl purus. Quisque nec felis
erat. Nunc vel nibh eget lectus blandit posuere non at augue. Donec sed
ante a justo mattis elementum. Aenean sollicitudin dignissim nibh, vitae
ultricies quam dictum et.

\section*{Conclusions}
Convolution of an image was demonstrated with 3 different impulse functions,
illustrating that convolution can have very distinct effects depending on the
chosen impulse function.

\section*{Appendix A: Source Code}
\lstset{
	language=Octave,
	% code font size
	basicstyle=\scriptsize,
	tabsize=2,
	breaklines=true,
	breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
	% show filename as title
	title=\lstname,
}

\lstinputlisting{part3.m}
\lstinputlisting{part4.m}
\lstinputlisting{part5.m}
\lstinputlisting{part6.m}

\end{document}
